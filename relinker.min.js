function clearEnd(a,b,c=1){let d=!1;return d=a[a.length-c]===b?clearEnd(a,b,c+1):a.substr(0,a.length-(c-1)),d}const vnBase="https://velonews.com?p=";let postId="";const changedUrls=new Map;document.addEventListener("DOMContentLoaded",function(){let a=document.querySelectorAll("a");for(let b of a){let a=new URL(b.href);if("velonews.competitor.com"===a.hostname||"velonews.com"===a.hostname){if(!a.search){let b=clearEnd(a.pathname,"/");postId=-1===b.indexOf("_")?b.split("/")[b.split("/").length-1]:b.split("_")[1]}else postId=a.search;b.dataset.originalurl=a;let c=b.href,d=vnBase+postId;b.href=d,changedUrls.set(c,d)}}console.log("velonews-relinker updated "+changedUrls.size+" urls:");for(let a of changedUrls)console.log("updated "+a[0]+" to "+a[1]);console.log("more info: https://github.com/cosmocatalano/velonews-relinker")});