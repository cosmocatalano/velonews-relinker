function clearEnd(a,b,c=1){let d=!1;return d=a[a.length-c]===b?clearEnd(a,b,c+1):a.substr(0,a.length-(c-1)),d}const vnBase="https://velonews.com?p=";let postId="";document.addEventListener("DOMContentLoaded",function(){let a=document.querySelectorAll("a");for(link of a){let a=new URL(link.href);if("velonews.competitor.com"===a.hostname||"velonews.com"===a.hostname){if(console.log(a.pathname),!a.search){let b=clearEnd(a.pathname,"/");postId=-1===b.indexOf("_")?b.split("/")[b.split("/").length-1]:b.split("_")[1]}else postId=a.search;link.dataset.oldUrl=a,link.href=vnBase+postId,console.log(vnBase+postId)}}});