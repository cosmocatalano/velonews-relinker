function clearEnd(e,t,n=1){let o=!1;return o=e[e.length-n]===t?clearEnd(e,t,n+1):e.substr(0,e.length-(n-1)),o}const vnBase="https://velonews.com?p=";let postId="";document.addEventListener("DOMContentLoaded",(function(e){let t=document.querySelectorAll("a");for(link of t){let e=new URL(link.href);if("velonews.competitor.com"===e.hostname||"velonews.com"===e.hostname){if(console.log(e.pathname),e.search)postId=e.search;else{let t=clearEnd(e.pathname,"/");postId=-1!==t.indexOf("_")?t.split("_")[1]:t.split("/")[t.split("/").length-1]}link.dataset.oldUrl=e,link.href=vnBase+postId,console.log(vnBase+postId)}}}));
